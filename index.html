<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NIW CSPA Calculator & Report</title>

<style>
:root{
  --text:#0f172a;
  --muted:#64748b;
  --bg:#f6f7fb;
  --accent1:#4f46e5;
  --accent2:#06b6d4;
  --accent3:#f59e0b;
  --shadow:0 10px 25px rgba(2,6,23,.08);
}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
  background:var(--bg);
  color:var(--text);
}
.wrap{max-width:1100px;margin:20px auto;padding:0 16px 30px;}

/* ===== HEADER ===== */
.hero{
  padding:16px;
  border-radius:18px;
  color:#fff;
  background:linear-gradient(135deg,#4f46e5,#06b6d4,#f59e0b);
  box-shadow:var(--shadow);
}
.heroTop{display:flex;justify-content:space-between;flex-wrap:wrap;gap:14px;}
.heroFirm{font-size:17px;font-weight:900;}
.heroTag{font-size:12px;margin-top:4px;font-weight:800;}
.heroAddr,.heroContact{font-size:12px;margin-top:6px;white-space:pre-wrap;}
.langbar{margin-top:8px;}
.pill{
  border-radius:999px;
  padding:6px 10px;
  border:1px solid #fff;
  background:rgba(255,255,255,.2);
  color:#fff;
  font-weight:800;
  cursor:pointer;
  margin-right:6px;
}
.pill.active{background:#fff;color:#111;}

/* ===== LAYOUT ===== */
.grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px;}
@media(min-width:980px){.grid{grid-template-columns:1.05fr .95fr;}}
.card{
  background:#fff;
  border-radius:16px;
  padding:14px;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
}
h2{font-size:14px;margin:0 0 10px;display:flex;gap:8px;align-items:center;}
.chip{
  font-size:11px;
  font-weight:900;
  padding:4px 8px;
  border-radius:999px;
  background:rgba(79,70,229,.1);
  color:#4f46e5;
}
label{font-size:12px;font-weight:700;color:var(--muted);display:block;margin-bottom:6px;}
input,select,textarea{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  font-size:14px;
}
textarea{min-height:80px;}
.row{display:grid;gap:10px;}
@media(min-width:640px){.row{grid-template-columns:1fr 1fr;}}

.btns{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;}
button{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  background:#fff;
  font-weight:900;
  cursor:pointer;
}
button.primary{
  background:linear-gradient(135deg,#4f46e5,#06b6d4);
  color:#fff;
  border:none;
}
.hint{font-size:12px;color:var(--muted);margin-top:10px;}

/* ===== RESULTS ===== */
.kpi{
  border:1px solid #e5e7eb;
  border-radius:14px;
  padding:10px;
  margin-bottom:10px;
}
.k{font-size:12px;color:var(--muted);font-weight:700;}
.v{font-size:15px;font-weight:900;margin-top:4px;}
.mono{font-family:ui-monospace,monospace;}
.badge{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:900;}
.ok{background:#dcfce7;color:#166534;}
.warn{background:#fef3c7;color:#92400e;}
.bad{background:#fee2e2;color:#991b1b;}

/* ===== REPORT ===== */
.reportbox{margin-top:12px;display:none;}
.addr{font-size:12px;color:var(--muted);white-space:pre-wrap;}
.sectionTitle{margin-top:10px;font-weight:900;font-size:13px;}

@media print{
  .noPrint{display:none!important;}
  body{background:#fff;}
}
</style>
</head>

<body>
<div class="wrap">

<!-- ===== FIXED OFFICE HEADER ===== -->
<div class="hero">
  <div class="heroTop">
    <div>
      <div class="heroFirm">Law Office of Hong-min Jun P.C</div>
      <div class="heroTag">Attorney For Foreign-Born Individuals and Small Business Owners!</div>
      <div class="heroAddr">10150 Lantern Rd, Suite #175, Fishers, IN 46037</div>
      <div class="heroContact">
        317-701-2768 | askus@junlawfirm.com<br>
        www.junlawfirm.com | https://niw-junlawfirm.com
      </div>
    </div>
    <div>
      <div class="langbar">
        <button class="pill active">EN</button>
        <button class="pill">KR</button>
        <button class="pill">中文</button>
      </div>
    </div>
  </div>
</div>

<div class="grid">

<!-- ===== INPUT ===== -->
<div class="card noPrint">
  <h2>
    <span class="chip">INPUT</span>
    <span>
      Inputs (보고서 작성용 · Optional – 입력하지 않아도 계산에는 지장이 없습니다)
    </span>
  </h2>

  <div class="row">
    <div>
      <label>Child Date of Birth (DOB)</label>
      <input type="date" id="dob">
    </div>
    <div>
      <label>Priority Date (optional)</label>
      <input type="date" id="pd">
    </div>
  </div>

  <div class="row">
    <div>
      <label>I-140 Filing Date</label>
      <input type="date" id="i140Filed">
    </div>
    <div>
      <label>I-140 Approval Date</label>
      <input type="date" id="i140Approved">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Visa Bulletin Chart</label>
      <select id="chartChoice">
        <option value="A">Chart A</option>
        <option value="B">Chart B</option>
      </select>
    </div>
    <div>
      <label>Baseline (Current / Filing Allowed) Date</label>
      <input type="date" id="currentDate">
    </div>
  </div>

  <div class="btns">
    <button class="primary" onclick="calculate()">Calculate</button>
    <button onclick="generateReport()">Generate Report / PDF</button>
  </div>

  <div class="hint">
    This calculator provides arithmetic assistance only and does not constitute legal advice.
  </div>
</div>

<!-- ===== OUTPUT ===== -->
<div class="card">
  <h2><span class="chip">OUTPUT</span> Results</h2>

  <div class="kpi">
    <div class="k">Status</div>
    <div class="v" id="statusOut"><span class="badge warn">Ready</span></div>
  </div>

  <div class="kpi">
    <div class="k">CSPA Age (days)</div>
    <div class="v mono" id="cspaOut">—</div>
  </div>

  <div class="reportbox" id="reportBox">
    <div class="sectionTitle">CSPA Calculation Report</div>
    <div class="addr">
Law Office of Hong-min Jun P.C  
Attorney For Foreign-Born Individuals and Small Business Owners!  
10150 Lantern Rd, Suite #175, Fishers, IN 46037  
317-701-2768 | askus@junlawfirm.com  
www.junlawfirm.com | https://niw-junlawfirm.com
    </div>
  </div>
</div>

</div>
</div>

<script>
function daysBetween(a,b){return Math.floor((b-a)/(1000*60*60*24));}
function calculate(){
  const dob=new Date(document.getElementById("dob").value);
  const filed=new Date(document.getElementById("i140Filed").value);
  const approved=new Date(document.getElementById("i140Approved").value);
  const baseline=new Date(document.getElementById("currentDate").value);

  if(!dob||!filed||!approved||!baseline){return;}

  const pending=daysBetween(filed,approved);
  const age=daysBetween(dob,baseline);
  const cspa=age-pending;

  document.getElementById("cspaOut").textContent=cspa+" days";
  document.getElementById("statusOut").innerHTML=
    cspa<365*21
      ? '<span class="badge ok">Under 21</span>'
      : '<span class="badge bad">21 or Older</span>';
}
function generateReport(){
  calculate();
  document.getElementById("reportBox").style.display="block";
  window.print();
}
</script>

</body>
</html>
